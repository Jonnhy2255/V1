<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voix disponibles</title>
</head>
<body>

    <button onclick="afficherVoix()">Afficher les voix disponibles</button>
    <div id="listeVoix"></div>

    <script>
        function afficherVoix() {
            const synth = window.speechSynthesis;
            let voixDisponibles = [];

            // Recharger la liste des voix car elle peut être vide au départ
            const chargerVoix = () => {
                voixDisponibles = synth.getVoices();
                if (voixDisponibles.length > 0) {
                    afficherListe(voixDisponibles);
                } else {
                    setTimeout(chargerVoix, 100);
                }
            };

            // Fonction pour afficher la liste des voix
            const afficherListe = (voix) => {
                let listeVoix = document.getElementById("listeVoix");
                listeVoix.innerHTML = "<h3>Voix disponibles :</h3><ul>";
                voix.forEach((voix, index) => {
                    listeVoix.innerHTML += `<li><strong>${voix.name}</strong> (${voix.lang})</li>`;
                });
                listeVoix.innerHTML += "</ul>";
            };

            // Charger les voix
            chargerVoix();
        }
    </script>

</body>
</html>
